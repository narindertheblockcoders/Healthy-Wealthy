(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8252],{27864:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/payment",function(){return n(40605)}])},96119:function(e,t){"use strict";t.Z={src:"/_next/static/media/arrow.14c7410d.svg",height:16,width:16}},40605:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return M},default:function(){return k}});var a=n(85893),s=n(67294),r=n(34051),i=n.n(r),o=n(96119),l=n(41664),u=n.n(l),c=n(9669),d=n.n(c),p=n(11163),y=n(36968),m=n(88375),f=n(34892);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t=e.name,n=e.price,s=e.setIsMounted;(0,p.useRouter)();return(0,a.jsx)(f.NL.Custom,{children:function(e){var r=e.account,i=e.chain,o=(e.openAccountModal,e.openChainModal),l=e.openConnectModal,u=e.mounted;return(0,a.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){v(e,t,n[t])}))}return e}({},!u&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}},{children:function(){return u&&r&&i?i.unsupported?(0,a.jsx)("button",{onClick:o,type:"button",children:"Wrong network"}):(s(!0),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{style:{display:"flex",gap:12},children:(0,a.jsxs)("button",{className:"btn connect-btn mb-2",onClick:o,style:{display:"flex",alignItems:"center"},type:"button",children:[i.hasIcon&&(0,a.jsx)("div",{style:{background:i.iconBackground,width:32,height:32,borderRadius:999,overflow:"hidden",marginRight:4},children:i.iconUrl&&(0,a.jsx)("img",{alt:null!==(e=i.name)&&void 0!==e?e:"Chain icon",src:i.iconUrl,style:{width:32,height:32}})}),"Change Chain"]})})})):(0,a.jsxs)("button",{className:"btn connect-btn mb-2",onClick:l,type:"button",children:[(0,a.jsx)("img",{className:"icon-space",src:"/bitc.png",style:{height:"21.17px"}})," ",t," ",n]});var e}()}))}})},h=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getCurrentPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function","payable":true}]}'),g=n(5286);function x(e,t,n,a,s,r,i){try{var o=e[r](i),l=o.value}catch(u){return void n(u)}o.done?t(l):Promise.resolve(l).then(a,s)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function i(e){x(r,a,s,i,o,"next",e)}function o(e){x(r,a,s,i,o,"throw",e)}i(void 0)}))}}var T=h.Mt,j=function(){var e=(0,s.useState)(0),t=e[0],n=e[1],r=(0,s.useState)(),l=(r[0],r[1]),c=(0,s.useState)(null),f=c[0],v=c[1],h=(0,s.useState)(!1),x=h[0],j=h[1],N=(0,s.useState)(!1),S=N[0],M=N[1],k=(0,s.useState)(null),O=k[0],C=k[1],P=(0,s.useState)(null),Z=P[0],_=P[1],A=(0,s.useState)(null),E=A[0],I=A[1],$=(0,s.useState)(null),R=$[0],F=$[1],L=(0,p.useRouter)(),V=(0,g.mA)(),q=(0,s.useState)(null),J=(q[0],q[1]),B=(0,g.LN)(),D=B.chain,W=(B.chains,(0,s.useState)(null)),X=W[0],z=W[1],G=(0,g.GG)({addressOrName:"0xb2e9830ce0f1099f6ac00b0da94e72a87b84bc23",contractInterface:T,functionName:"mint",args:[],onSettled:function(e,t){j(!0),console.log("Settled",{data:e,error:t}),t&&(z(null===t||void 0===t?void 0:t.message),j(!1))},onSuccess:function(e){console.log("Success",e),J(null===e||void 0===e?void 0:e.hash)}}),H=G.data,U=G.isError,Q=(G.isLoading,G.write);(0,g.BX)({hash:null===H||void 0===H?void 0:H.hash,onSettled:function(e,t){if(console.log("Settled Wait",{data:e,error:t}),console.log(e),1==(null===e||void 0===e?void 0:e.status)&&(!function(e){Y.apply(this,arguments)}(null===e||void 0===e?void 0:e.hash),console.log("api")),0==(null===e||void 0===e?void 0:e.status)&&(z(null===t||void 0===t?void 0:t.message),j(!1)),t)return z("An error has occurred please check etherscan for full details."),void setTimeout((function(){setModalShow(!1)}),5e3)}}),(0,g.do)({addressOrName:"0xb2e9830ce0f1099f6ac00b0da94e72a87b84bc23",contractInterface:T},"getCurrentPrice");function K(){return(K=w(i().mark((function e(){var t,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().post("/api/payment");case 3:return t=e.sent,a=t.data,e.next=7,JSON.parse(localStorage.getItem("query"));case 7:s=e.sent,n(s.enteredFor),I(s.finalValue),console.log(s.finalValue),console.log(JSON.parse(localStorage.getItem("query"))),v(a.arr),console.log(a.arr,"arrr"),l(a.data.data),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0,"hello");case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function Y(){return(Y=w(i().mark((function e(t){var n,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={transactionId:t,id:R},e.next=3,d().post("/api/payment/success",n);case 3:a=e.sent,s=a.data.data,console.log(s),L.push({pathname:"/paymentForm",query:{via:O,finalAmount:Z}});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=w(i().mark((function e(n){var a,s,r,o,l,u,c,p,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===n||void 0===n||null===(a=n.currentTarget)||void 0===a?void 0:a.name,console.log(null===n||void 0===n||null===(s=n.currentTarget)||void 0===s?void 0:s.name),e.prev=3,j(!0),z(null),e.next=8,localStorage.getItem("query");case 8:return o=e.sent,l=JSON.parse(o),80001==r&&(r=3),4==r&&(r=2),97==r&&(r=4),console.log(t,f,r),u=t.toString()/f[r-2],c={usdAmount:l.enteredFor,tokenQuantity:l.finalValue,tokenPrice:l.tokenPrice,finalAmount:u.toFixed(4),paymentMode:2,currencyId:r},C(r),_(u),console.log(c,"Parse data on payment form"),e.next=21,d().post("/api/formfill",c);case 21:p=e.sent,y=p.data,console.log(y,"data"),F(y.data.id),Q({args:[V.address,E],overrides:{value:(1e14*E).toString()}}),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(3),console.log(e.t0,"error-1");case 31:case"end":return e.stop()}}),e,null,[[3,28]])})))).apply(this,arguments)}return(0,s.useEffect)((function(){!function(){K.apply(this,arguments)}(),console.log(U)}),[]),(0,a.jsx)("div",{children:(0,a.jsx)("section",{className:"profile-sec verify-hight",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"row justify-content-center",children:(0,a.jsxs)("form",{className:"input-sec input-top",onSubmit:function(e){e.preventDefault()},children:[(0,a.jsx)("div",{className:"input-line credit-line",id:"cred-line"}),(0,a.jsxs)("h3",{className:"heading-text mt-0",children:[(0,a.jsx)(u(),{href:"/creditPage",children:(0,a.jsx)("span",{className:"arrow-icon",style:{position:"relative",left:"-10%"},children:(0,a.jsx)("img",{src:o.Z.src})})}),"Pay with crypto wallet"]}),(0,a.jsx)(b,{name:"Connect Wallet",setIsMounted:M}),S&&f?(0,a.jsxs)("div",{style:{alignItems:"center",textAlign:"center"},className:"input-item mt-3",children:[(0,a.jsxs)("button",{type:"button",name:null===D||void 0===D?void 0:D.id,disabled:x,onClick:function(e){!function(e){ee.apply(this,arguments)}(e)},className:"btn credit-btn mt-2",style:{padding:"15px !important"},children:["Pay with ",null===D||void 0===D?void 0:D.name," ",x?(0,a.jsx)(y.Z,{size:"sm",animation:"border",variant:"primary"}):""]}),null!=X?(0,a.jsx)(m.Z,{style:{textAlign:"center"},variant:"danger",className:"text-break mt-2",children:X.substring(0,50)}):""]}):""]})})})})})},N=n(9008),S=n.n(N),M=!0,k=function(){return(0,a.jsxs)("div",{children:[(0,a.jsx)(S(),{children:(0,a.jsx)("title",{children:"Payment Method"})}),(0,a.jsx)(j,{})]})}},88375:function(e,t,n){"use strict";var a=n(94184),s=n.n(a),r=n(67294),i=n(15446),o=n(78146),l=n(23646),u=n(76792),c=n(20477),d=n(41485),p=n(39602),y=n(66611),m=n(85893);const f=(0,p.Z)("h4");f.displayName="DivStyledAsH4";const v=(0,y.Z)("alert-heading",{Component:f}),b=(0,y.Z)("alert-link",{Component:l.Z}),h={variant:"primary",show:!0,transition:c.Z,closeLabel:"Close alert"},g=r.forwardRef(((e,t)=>{const{bsPrefix:n,show:a,closeLabel:r,closeVariant:l,className:p,children:y,variant:f,onClose:v,dismissible:b,transition:h,...g}=(0,i.Ch)(e,{show:"onClose"}),x=(0,u.vE)(n,"alert"),w=(0,o.Z)((e=>{v&&v(!1,e)})),T=!0===h?c.Z:h,j=(0,m.jsxs)("div",{role:"alert",...T?void 0:g,ref:t,className:s()(p,x,f&&`${x}-${f}`,b&&`${x}-dismissible`),children:[b&&(0,m.jsx)(d.Z,{onClick:w,"aria-label":r,variant:l}),y]});return T?(0,m.jsx)(T,{unmountOnExit:!0,...g,ref:void 0,in:a,children:j}):a?j:null}));g.displayName="Alert",g.defaultProps=h,t.Z=Object.assign(g,{Link:b,Heading:v})},41485:function(e,t,n){"use strict";var a=n(45697),s=n.n(a),r=n(67294),i=n(94184),o=n.n(i),l=n(85893);const u={"aria-label":s().string,onClick:s().func,variant:s().oneOf(["white"])},c=r.forwardRef((({className:e,variant:t,...n},a)=>(0,l.jsx)("button",{ref:a,type:"button",className:o()("btn-close",t&&`btn-close-${t}`,e),...n})));c.displayName="CloseButton",c.propTypes=u,c.defaultProps={"aria-label":"Close"},t.Z=c},36968:function(e,t,n){"use strict";var a=n(94184),s=n.n(a),r=n(67294),i=n(76792),o=n(85893);const l=r.forwardRef((({bsPrefix:e,variant:t,animation:n,size:a,as:r="div",className:l,...u},c)=>{const d=`${e=(0,i.vE)(e,"spinner")}-${n}`;return(0,o.jsx)(r,{ref:c,...u,className:s()(l,d,a&&`${d}-${a}`,t&&`text-${t}`)})}));l.displayName="Spinner",t.Z=l},39602:function(e,t,n){"use strict";var a=n(67294),s=n(94184),r=n.n(s),i=n(85893);t.Z=e=>a.forwardRef(((t,n)=>(0,i.jsx)("div",{...t,ref:n,className:r()(t.className,e)})))}},function(e){e.O(0,[6376,3098,9774,2888,179],(function(){return t=27864,e(e.s=t);var t}));var t=e.O();_N_E=t}]);