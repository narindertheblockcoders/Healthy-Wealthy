(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[950],{9430:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/emailChange",function(){return s(2867)}])},6119:function(e,t){"use strict";t.Z={src:"/_next/static/media/arrow.14c7410d.svg",height:16,width:16}},7198:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return g},default:function(){return j}});var n=s(5893),i=s(7294),r=s(4051),a=s.n(r),o=s(9669),c=s.n(o),l=s(1163),u=s(2920),d=s(6119),p=s(1664),m=s.n(p),h=s(5005);function x(e,t,s,n,i,r,a){try{var o=e[r](a),c=o.value}catch(l){return void s(l)}o.done?t(c):Promise.resolve(c).then(n,i)}function f(e){return function(){var t=this,s=arguments;return new Promise((function(n,i){var r=e.apply(t,s);function a(e){x(r,n,i,a,o,"next",e)}function o(e){x(r,n,i,a,o,"throw",e)}a(void 0)}))}}var v=function(){var e=(0,i.useRef)(),t=(0,i.useRef)(),s=(0,i.useRef)(),r=(0,i.useRef)(),o=(0,i.useState)(!1),p=o[0],x=(o[1],(0,i.useState)()),v=(x[0],x[1],(0,i.useState)(!1)),g=v[0],j=v[1],N=(0,i.useState)(!1),w=N[0],y=N[1],b=(0,i.useState)(!1),S=b[0],P=b[1],C=(0,i.useState)(!1),O=C[0],k=C[1],_=(0,i.useState)(!1),E=_[0],T=_[1],R=(0,l.useRouter)();function D(){return(D=f(a().mark((function e(){var t,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().post("/api/sendCode");case 3:t=e.sent,s=t.data,console.log(s,"hii man"),setEnterField(!0),k(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0,"hello");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function A(){return(A=f(a().mark((function e(t){var s,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=localStorage.getItem("token"),console.log(s,"weyfgqegfq"),e.next=5,c().post("/api/changepassword",{token:s,data:t});case 5:n=e.sent,i=n.data,console.log(i,"Passsword Change"),T(!0),k(!0),I(" Change Successfuly"),P(!0),setTimeout((function(){R.push("/dashboard")}),3e3),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0,"SomeThing Went Wrong"),q(" Invalid detail"),y(!0);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}var I=function(e){return u.Am.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},q=function(e){return u.Am.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};(0,i.useEffect)((function(){O&&new Promise((function(e){return setTimeout(e,4e3)})).then((function(){T(!0)}))}),[O]);return(0,n.jsx)("div",{children:(0,n.jsx)("section",{className:"profile-sec",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"row justify-content-center",children:[(0,n.jsx)(u.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,n.jsxs)("form",{className:"input-sec",id:"form-setting",onSubmit:function(n){n.preventDefault();var i=e.current.value,a=t.current.value,o=s.current.value,c={oldPassword:i,password:a,confirmPassword:o,otp:r.current.value};if(console.log(c,"data here"),j(!1),a!==o)return q("Password doesn't match"),void j(!0);!function(e){A.apply(this,arguments)}(c)},children:[(0,n.jsx)("div",{className:"line profile-line",id:"ch-line"}),(0,n.jsxs)("h3",{className:"heading-text pink-text mt-2 ",children:[(0,n.jsx)(m(),{href:"/dashboard",children:(0,n.jsx)("span",{className:"arrows-icon",style:{position:"relative",left:"-23%",cursor:"pointer"},children:(0,n.jsx)("img",{src:d.Z.src})})}),"Change Password"]}),(0,n.jsxs)("div",{className:"input-item item-set mt-5",children:[(0,n.jsx)("h6",{className:"item-text",children:"OLD PASSWORD"}),(0,n.jsx)("input",{ref:e,required:!0,className:"textinput",type:"password",name:"password"})]}),(0,n.jsxs)("div",{className:"input-item item-set",children:[(0,n.jsx)("h6",{className:"item-text",children:"NEW PASSWORD"}),(0,n.jsx)("input",{ref:t,required:!0,className:"textinput",type:"password",name:"password"})]}),(0,n.jsxs)("div",{className:"input-item item-set",children:[(0,n.jsx)("h6",{className:"item-text",children:"CONFIRM PASSWORD"}),(0,n.jsx)("input",{ref:s,required:!0,className:"textinput",type:"password",name:"confirmpassword"}),p&&(0,n.jsx)("p",{style:{color:"red"},children:" Password doesn't match "})]}),(0,n.jsx)("div",{style:{float:"left",width:"100%",marginTop:"10px"},children:(0,n.jsx)("p",{style:{margin:"0",fontSize:"15px",marginTop:"15px"},children:"Click SEND CODE, check your inbox, enter the verification code and click UPDATE."})}),(0,n.jsx)("div",{className:"name-sec mb-5 mt-0",style:{marginTop:"0px !important"},children:(0,n.jsxs)("div",{className:"input-item item-set mt-0",id:"item-value",style:{marginRight:"10px",display:"flex",marginTop:"0px !important"},children:[(0,n.jsx)("input",{className:"textinput w-50","mt-0":!0,type:"name",name:"username",style:{borderRadius:" 10px 0 0 10px !important"},ref:r}),(0,n.jsx)("button",{type:"button",disabled:O,onClick:function(){var n=e.current.value,i=t.current.value,r=s.current.value;if(!n||!i||!r)return q("Please fill the details."),void j("");i===r?(k(!1),function(){D.apply(this,arguments)}(),I("Verification Code Sent")):q("Password doesn't match")},className:"btn btn-roundes btn- w-50 ",style:{},children:"Send Code"})]})}),g&&(0,n.jsx)("p",{style:{color:"red"},children:" Password doesn't match "}),w&&(0,n.jsx)("p",{style:{color:"red",fontSize:"15px",margin:"0px"},children:" Invalid detail "}),S&&(0,n.jsx)("p",{style:{color:"green",fontSize:"15px",margin:"0"},children:"Change Successfuly "}),(0,n.jsx)(h.Z,{variant:"primary",className:"btn btn-round btn-warning w-100 ",style:{marginTop:"0px",marginBottom:"0px"},type:"submit",disabled:O,onClick:O?null:function(){return T(!1)},children:E?"Loading\u2026":"     UPDATE"})]})]})})})})},g=!0,j=function(){return(0,n.jsx)("div",{children:(0,n.jsx)(v,{})})}},2867:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return l},default:function(){return u}});var n=s(5893),i=(s(7294),s(9669),s(7198),s(1163),s(2920)),r=s(6119),a=s(1664),o=s.n(a),c=function(){return(0,n.jsx)("div",{children:(0,n.jsx)("section",{className:"profile-sec verify-hight",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"row justify-content-center",children:[(0,n.jsx)(i.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,n.jsxs)("form",{className:"input-sec",children:[(0,n.jsx)("div",{className:"line profile-line"}),(0,n.jsxs)("h3",{className:"heading-text pink-text mt-2",children:[(0,n.jsx)(o(),{href:"/userProfile",children:(0,n.jsx)("span",{className:"arrows-icon",style:{position:"relative",left:"-27%",cursor:"pointer"},children:(0,n.jsx)("img",{src:r.Z.src})})}),"Update Email"]}),(0,n.jsxs)("div",{className:"input-item item-set mt-5",children:[(0,n.jsx)("h6",{className:"item-text",children:"NEW EMAIL"}),(0,n.jsx)("input",{required:!0,className:"textinput",type:"email",name:"password"})]}),(0,n.jsxs)("div",{className:"input-item item-set",children:[(0,n.jsx)("h6",{className:"item-text",children:"OLD EMAIL"}),(0,n.jsxs)("div",{className:"input-item item-set mt-0",id:"item-setting",style:{marginRight:"10px",display:"flex"},children:[(0,n.jsx)("input",{className:"textinput w-50",type:"email",name:"username",style:{borderRadius:" 10px 0 0 10px !important"}}),(0,n.jsx)("button",{type:"button",className:"btn btn-roundes btn- w-50 ",style:{},children:"Send"})]})]}),(0,n.jsxs)("div",{className:"input-item item-set",children:[(0,n.jsx)("h6",{className:"item-text",children:"CODE"}),(0,n.jsx)("input",{required:!0,className:"textinput",type:"number",name:"password"})]}),(0,n.jsx)("button",{href:"funds-page.html",className:"btn btn-round btn-warning w-100 ",id:"changemail-btn",style:{marginTop:"100px",marginBottom:"0px"},type:"submit",children:"UPDATE"})]})]})})})})},l=!0,u=function(){return(0,n.jsx)("div",{children:(0,n.jsx)(c,{})})}}},function(e){e.O(0,[866,774,888,179],(function(){return t=9430,e(e.s=t);var t}));var t=e.O();_N_E=t}]);