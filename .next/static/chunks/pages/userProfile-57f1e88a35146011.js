(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{1354:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/userProfile",function(){return n(1265)}])},6119:function(e,t){"use strict";t.Z={src:"/_next/static/media/arrow.14c7410d.svg",height:16,width:16}},1265:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return N},default:function(){return g}});var a=n(5893),s=n(7294),r=n(4051),i=n.n(r),u=n(9669),c=n.n(u),l=n(1163),o=n(6119),d=n(1664),m=n.n(d),p=n(2920),f=n(5005);function h(e,t,n,a,s,r,i){try{var u=e[r](i),c=u.value}catch(l){return void n(l)}u.done?t(c):Promise.resolve(c).then(a,s)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function i(e){h(r,a,s,i,u,"next",e)}function u(e){h(r,a,s,i,u,"throw",e)}i(void 0)}))}}var v=function(){var e=(0,s.useRef)(),t=(0,s.useRef)(),n=(0,s.useRef)(),r=(0,s.useRef)(),u=(0,s.useRef)(),d=(0,s.useRef)(),h=(0,s.useRef)(),v=(0,s.useRef)(),N=(0,s.useRef)(),g=(0,s.useState)(!1),j=g[0],b=g[1],y=(0,s.useState)(),C=y[0],T=y[1],S=(0,s.useState)(),w=S[0],R=S[1],_=(0,s.useState)(),k=_[0],E=_[1],P=(0,s.useState)(),O=P[0],A=P[1],q=(0,s.useState)(),D=q[0],I=q[1],U=(0,s.useState)(),z=U[0],L=U[1],M=(0,s.useState)(),Z=M[0],B=M[1],F=(0,s.useState)(),Y=F[0],H=F[1],V=(0,s.useState)(!1),X=V[0],W=V[1],G=(0,s.useState)(!1),J=G[0],K=G[1],Q=(0,s.useState)(),$=Q[0],ee=Q[1];function te(){return(te=x(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().post("/api/userProfile");case 3:t=e.sent,n=t.data,console.log(n.data),ee(n.data),T(n.data.firstName),R(n.data.lastName),E(n.data.contactNumber),A(n.data.address),I(n.data.city),L(n.data.country),B(n.data.state),H(n.data.zipcode),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0,e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}(0,s.useEffect)((function(){!function(){te.apply(this,arguments)}()}),[]);var ne=(0,l.useRouter)();function ae(){return(ae=x(i().mark((function e(t){var n,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),console.log(n,"for api"),e.next=5,c().post("/api/userdata",{token:n,data:t});case 5:a=e.sent,s=a.data,console.log(s.data,"data fet"),ee(s.data),K(!0),b(!0),se("User Detail Updated"),W(!0),setTimeout((function(){ne.push("/dashboard")}),3e3),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0,e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}var se=function(e){return p.Am.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};(0,s.useEffect)((function(){J&&new Promise((function(e){return setTimeout(e,3e3)})).then((function(){W(!1)}))}),[J]);return(0,a.jsx)("div",{children:(0,a.jsx)("section",{className:"profile-sec pb-0",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row justify-content-center",children:[(0,a.jsx)(p.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,a.jsxs)("form",{className:"input-sec mb-5",onSubmit:function(a){a.preventDefault();var s={firstName:e.current.value,lastName:t.current.value,email:n.current.value,contactNumber:r.current.value,address:u.current.value,city:d.current.value,state:h.current.value,country:v.current.value,zipcode:N.current.value};console.log(s,"all data here"),function(e){ae.apply(this,arguments)}(s)},children:[(0,a.jsx)("div",{className:"line userprofile-line"}),(0,a.jsxs)("h3",{className:"heading-text pink-text mt-2 mb-5",children:[(0,a.jsx)(m(),{href:"/dashboard",children:(0,a.jsx)("span",{className:"arrows-icon",style:{position:"relative",left:"-23%",cursor:"pointer"},children:(0,a.jsx)("img",{src:o.Z.src})})}),"Complete Profile"]}),(0,a.jsxs)("div",{className:"name-sec",children:[(0,a.jsxs)("div",{className:"input-item item-set",style:{marginRight:"10px"},children:[(0,a.jsx)("h6",{className:"item-text",children:"FIRST NAME"}),(0,a.jsx)("input",{ref:e,value:C,onChange:function(e){return T(e.currentTarget.value)},className:"textinput",type:"name",name:"username"})]}),(0,a.jsxs)("div",{className:"input-item item-set",style:{marginLeft:"10px"},children:[(0,a.jsx)("h6",{className:"item-text",children:"LAST NAME"}),(0,a.jsx)("input",{ref:t,value:w,onChange:function(e){return R(e.currentTarget.value)},className:"textinput",type:"last name",name:"last-name"})]})]}),(0,a.jsx)("div",{className:"name-sec",children:(0,a.jsxs)("div",{className:"input-item item-set",style:{marginRight:"10px",display:"flex"},children:[(0,a.jsx)("input",{ref:n,disabled:!0,required:!0,className:"textinput mt-0",name:"email",defaultValue:null===$||void 0===$?void 0:$.email}),(0,a.jsx)(m(),{href:"/emailChange",children:(0,a.jsx)("button",{type:"button",className:"btn btn-roundes btn- w-50 mt-0 ",children:"MODIFY"})})]})}),(0,a.jsxs)("div",{className:"input-item item-set",children:[(0,a.jsx)("h6",{className:"item-text",children:"CONTACT NUMBER"}),(0,a.jsx)("input",{ref:r,required:!0,onChange:function(e){return E(e.currentTarget.value)},value:k,className:"textinput",name:"contact no"})]}),(0,a.jsxs)("div",{className:"input-item item-set",children:[(0,a.jsx)("h6",{className:"item-text",children:"ADDRESS"}),(0,a.jsx)("input",{ref:u,required:!0,value:O,onChange:function(e){return A(e.currentTarget.value)},className:"textinput",name:"address"})]}),(0,a.jsxs)("div",{className:"input-item item-set",children:[(0,a.jsx)("h6",{className:"item-text",children:"CITY"}),(0,a.jsx)("input",{ref:d,required:!0,value:D,onChange:function(e){return I(e.currentTarget.value)},className:"textinput",name:"city"})]}),(0,a.jsxs)("div",{className:"input-item item-set",children:[(0,a.jsx)("h6",{className:"item-text",children:"STATE/PROVINCE"}),(0,a.jsx)("input",{ref:h,required:!0,value:Z,onChange:function(e){return B(e.currentTarget.value)},className:"textinput",name:"state"})]}),(0,a.jsxs)("div",{className:"input-item item-set",children:[(0,a.jsx)("h6",{className:"item-text",children:" COUNTRY "}),(0,a.jsx)("input",{ref:v,required:!0,value:z,onChange:function(e){return L(e.currentTarget.value)},className:"textinput",name:"country"})]}),(0,a.jsxs)("div",{className:"input-item item-set mb-4",children:[(0,a.jsx)("h6",{className:"item-text",children:"ZIP Code"}),(0,a.jsx)("input",{ref:N,required:!0,value:Y,onChange:function(e){return H(e.currentTarget.value)},className:"textinput",name:"zip code"})]}),j&&(0,a.jsx)("p",{style:{color:"green",fontSize:"13px",fontWeight:"600",margin:"0"},children:" User Detail Updated "}),(0,a.jsx)(f.Z,{variant:"primary",className:"btn btn-round btn-warning w-100 p-0 ",style:{marginTop:"5px"},type:"submit",disabled:J,onClick:J?null:function(){return W(!1)},children:X?"Loading\u2026":"   UPDATE"})]})]})})})})},N=!0,g=function(){return(0,a.jsx)("div",{children:(0,a.jsx)(v,{})})}}},function(e){e.O(0,[45,774,888,179],(function(){return t=1354,e(e.s=t);var t}));var t=e.O();_N_E=t}]);