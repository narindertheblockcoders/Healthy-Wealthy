(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8252],{27864:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/payment",function(){return t(40605)}])},96119:function(e,n){"use strict";n.Z={src:"/_next/static/media/arrow.14c7410d.svg",height:16,width:16}},40605:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return k},default:function(){return C}});var a=t(85893),s=t(67294),i=t(34051),r=t.n(i),o=t(96119),l=t(41664),u=t.n(l),c=t(9669),d=t.n(c),p=t(11163),y=t(36968),m=t(88375),f=t(34892);function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var h=function(e){var n=e.name,t=e.price,s=e.setIsMounted;(0,p.useRouter)();return(0,a.jsx)(f.NL.Custom,{children:function(e){var i=e.account,r=e.chain,o=(e.openAccountModal,e.openChainModal),l=e.openConnectModal,u=e.mounted;return(0,a.jsx)("div",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){v(e,n,t[n])}))}return e}({},!u&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}},{children:function(){return u&&i&&r?r.unsupported?(0,a.jsx)("button",{onClick:o,type:"button",children:"Wrong network"}):(s(!0),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{style:{display:"flex",gap:12},children:(0,a.jsxs)("button",{className:"btn connect-btn mb-2",onClick:o,style:{display:"flex",alignItems:"center"},type:"button",children:[r.hasIcon&&(0,a.jsx)("div",{style:{background:r.iconBackground,width:32,height:32,borderRadius:999,overflow:"hidden",marginRight:4},children:r.iconUrl&&(0,a.jsx)("img",{alt:null!==(e=r.name)&&void 0!==e?e:"Chain icon",src:r.iconUrl,style:{width:32,height:32}})}),"Change Chain"]})})})):(0,a.jsxs)("button",{className:"btn connect-btn mb-2",onClick:l,type:"button",children:[(0,a.jsx)("img",{className:"icon-space",src:"/bitc.png",style:{height:"21.17px"}})," ",n," ",t]});var e}()}))}})},b=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"}]}'),g=t(5286);function x(e,n,t,a,s,i,r){try{var o=e[i](r),l=o.value}catch(u){return void t(u)}o.done?n(l):Promise.resolve(l).then(a,s)}function w(e){return function(){var n=this,t=arguments;return new Promise((function(a,s){var i=e.apply(n,t);function r(e){x(i,a,s,r,o,"next",e)}function o(e){x(i,a,s,r,o,"throw",e)}r(void 0)}))}}var T=b.Mt,j=function(){var e=(0,s.useState)(0),n=e[0],t=e[1],i=(0,s.useState)(),l=(i[0],i[1]),c=(0,s.useState)(null),f=c[0],v=c[1],b=(0,s.useState)(!1),x=b[0],j=b[1],N=(0,s.useState)(!1),S=N[0],k=N[1],C=(0,s.useState)(null),M=C[0],O=C[1],P=(0,s.useState)(null),Z=P[0],_=P[1],A=(0,s.useState)(null),E=A[0],I=A[1],$=(0,s.useState)(null),R=$[0],F=$[1],L=(0,p.useRouter)(),V=((0,g.mA)(),(0,s.useState)(null)),B=(V[0],V[1]),D=(0,g.LN)(),q=D.chain,J=(D.chains,(0,s.useState)(null)),W=J[0],X=J[1],z=(0,g.GG)({addressOrName:"0x7584f3c77D998378f8853959d478d54CB0c8c728",contractInterface:T,functionName:"mint",args:[],onSettled:function(e,n){j(!0),console.log("Settled",{data:e,error:n}),X(null===n||void 0===n?void 0:n.message),n&&(j(!1),console.log(n.data.message,"err"),n.data.message?X(null===n||void 0===n?void 0:n.data.message):X(n))},onSuccess:function(e){console.log("Success",e),B(null===e||void 0===e?void 0:e.hash)}}),G=z.data,H=z.isError,U=(z.isLoading,z.write);(0,g.BX)({hash:null===G||void 0===G?void 0:G.hash,onSettled:function(e,n){var t;(console.log("Settled Wait",{data:e,error:n}),console.log(e),1==(null===e||void 0===e?void 0:e.status)&&(!function(e){K.apply(this,arguments)}(null===e||void 0===e?void 0:e.hash),console.log("api")),0==(null===e||void 0===e?void 0:e.status))&&(X(null===(t=n.data)||void 0===t?void 0:t.message),j(!1));if(n)return X("An error has occurred please check etherscan for full details."),void setTimeout((function(){setModalShow(!1)}),5e3)}}),(0,g.do)({addressOrName:"0x7584f3c77D998378f8853959d478d54CB0c8c728",contractInterface:T},"getCurrentPrice");function Q(){return(Q=w(r().mark((function e(){var n,a,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().post("/api/payment");case 3:return n=e.sent,a=n.data,e.next=7,JSON.parse(localStorage.getItem("query"));case 7:s=e.sent,t(s.enteredFor),I(s.finalValue),console.log(s.finalValue),console.log(JSON.parse(localStorage.getItem("query"))),v(a.arr),console.log(a.arr,"arrr"),l(a.data.data),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0,"hello");case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function K(){return(K=w(r().mark((function e(n){var t,a,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={transactionId:n,id:R},e.next=3,d().post("/api/payment/success",t);case 3:a=e.sent,s=a.data.data,console.log(s),L.push({pathname:"/paymentForm",query:{via:M,finalAmount:Z}});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=w(r().mark((function e(t){var a,s,i,o,l,u,c,p,y;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null===t||void 0===t||null===(a=t.currentTarget)||void 0===a?void 0:a.name,console.log(null===t||void 0===t||null===(s=t.currentTarget)||void 0===s?void 0:s.name),e.prev=3,j(!0),X(null),e.next=8,localStorage.getItem("query");case 8:return o=e.sent,l=JSON.parse(o),80001==i&&(i=4),4==i&&(i=3),97==i&&(i=5),console.log(n,f,i),u=n.toString()/f[i-2],c={usdAmount:l.enteredFor,tokenQuantity:l.finalValue,tokenPrice:l.tokenPrice,finalAmount:u.toFixed(4),paymentMode:2,currencyId:i},O(i),_(u),console.log(c,"Parse data on payment form"),e.next=21,d().post("/api/formfill",c);case 21:p=e.sent,y=p.data,console.log(y,"data"),F(y.data.id),console.log(E),U({args:[E]}),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(3),console.log(e.t0,"error-1");case 32:case"end":return e.stop()}}),e,null,[[3,29]])})))).apply(this,arguments)}return(0,s.useEffect)((function(){!function(){Q.apply(this,arguments)}(),console.log(H)}),[]),(0,a.jsx)("div",{children:(0,a.jsx)("section",{className:"profile-sec verify-hight",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"row justify-content-center",children:(0,a.jsxs)("form",{className:"input-sec input-top",onSubmit:function(e){e.preventDefault()},children:[(0,a.jsx)("div",{className:"input-line credit-line",id:"cred-line"}),(0,a.jsxs)("h3",{className:"heading-text mt-0",children:[(0,a.jsx)(u(),{href:"/creditPage",children:(0,a.jsx)("span",{className:"arrow-icon",style:{position:"relative",left:"-10%"},children:(0,a.jsx)("img",{src:o.Z.src})})}),"Pay with crypto wallet"]}),(0,a.jsx)(h,{name:"Connect Wallet",setIsMounted:k}),S&&f?(0,a.jsxs)("div",{style:{alignItems:"center",textAlign:"center"},className:"input-item mt-3",children:[(0,a.jsxs)("button",{type:"button",name:null===q||void 0===q?void 0:q.id,disabled:x,onClick:function(e){!function(e){Y.apply(this,arguments)}(e)},className:"btn credit-btn mt-2",style:{padding:"15px !important"},children:["Pay with ",null===q||void 0===q?void 0:q.name," ",x?(0,a.jsx)(y.Z,{size:"sm",animation:"border",variant:"primary"}):""]}),null!=W?(0,a.jsx)(m.Z,{style:{textAlign:"center"},variant:"danger",className:"text-break mt-2",children:W.substring(0,50)}):""]}):""]})})})})})},N=t(9008),S=t.n(N),k=!0,C=function(){return(0,a.jsxs)("div",{children:[(0,a.jsx)(S(),{children:(0,a.jsx)("title",{children:"Payment Method"})}),(0,a.jsx)(j,{})]})}},88375:function(e,n,t){"use strict";var a=t(94184),s=t.n(a),i=t(67294),r=t(15446),o=t(78146),l=t(23646),u=t(76792),c=t(20477),d=t(41485),p=t(39602),y=t(66611),m=t(85893);const f=(0,p.Z)("h4");f.displayName="DivStyledAsH4";const v=(0,y.Z)("alert-heading",{Component:f}),h=(0,y.Z)("alert-link",{Component:l.Z}),b={variant:"primary",show:!0,transition:c.Z,closeLabel:"Close alert"},g=i.forwardRef(((e,n)=>{const{bsPrefix:t,show:a,closeLabel:i,closeVariant:l,className:p,children:y,variant:f,onClose:v,dismissible:h,transition:b,...g}=(0,r.Ch)(e,{show:"onClose"}),x=(0,u.vE)(t,"alert"),w=(0,o.Z)((e=>{v&&v(!1,e)})),T=!0===b?c.Z:b,j=(0,m.jsxs)("div",{role:"alert",...T?void 0:g,ref:n,className:s()(p,x,f&&`${x}-${f}`,h&&`${x}-dismissible`),children:[h&&(0,m.jsx)(d.Z,{onClick:w,"aria-label":i,variant:l}),y]});return T?(0,m.jsx)(T,{unmountOnExit:!0,...g,ref:void 0,in:a,children:j}):a?j:null}));g.displayName="Alert",g.defaultProps=b,n.Z=Object.assign(g,{Link:h,Heading:v})},41485:function(e,n,t){"use strict";var a=t(45697),s=t.n(a),i=t(67294),r=t(94184),o=t.n(r),l=t(85893);const u={"aria-label":s().string,onClick:s().func,variant:s().oneOf(["white"])},c=i.forwardRef((({className:e,variant:n,...t},a)=>(0,l.jsx)("button",{ref:a,type:"button",className:o()("btn-close",n&&`btn-close-${n}`,e),...t})));c.displayName="CloseButton",c.propTypes=u,c.defaultProps={"aria-label":"Close"},n.Z=c},36968:function(e,n,t){"use strict";var a=t(94184),s=t.n(a),i=t(67294),r=t(76792),o=t(85893);const l=i.forwardRef((({bsPrefix:e,variant:n,animation:t,size:a,as:i="div",className:l,...u},c)=>{const d=`${e=(0,r.vE)(e,"spinner")}-${t}`;return(0,o.jsx)(i,{ref:c,...u,className:s()(l,d,a&&`${d}-${a}`,n&&`text-${n}`)})}));l.displayName="Spinner",n.Z=l},39602:function(e,n,t){"use strict";var a=t(67294),s=t(94184),i=t.n(s),r=t(85893);n.Z=e=>a.forwardRef(((n,t)=>(0,r.jsx)("div",{...n,ref:t,className:i()(n.className,e)})))}},function(e){e.O(0,[6376,3098,9774,2888,179],(function(){return n=27864,e(e.s=n);var n}));var n=e.O();_N_E=n}]);