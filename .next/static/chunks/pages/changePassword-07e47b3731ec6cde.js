(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{9742:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/changePassword",function(){return n(7198)}])},6119:function(e,t){"use strict";t.Z={src:"/_next/static/media/arrow.14c7410d.svg",height:16,width:16}},7198:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return g},default:function(){return w}});var s=n(5893),r=n(7294),i=n(4051),a=n.n(i),o=n(9669),c=n.n(o),l=n(1163),u=n(2920),d=n(6119),p=n(1664),m=n.n(p),h=n(5005);function f(e,t,n,s,r,i,a){try{var o=e[i](a),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,r)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function a(e){f(i,s,r,a,o,"next",e)}function o(e){f(i,s,r,a,o,"throw",e)}a(void 0)}))}}var v=function(){var e=(0,r.useRef)(),t=(0,r.useRef)(),n=(0,r.useRef)(),i=(0,r.useRef)(),o=(0,r.useState)(!1),p=o[0],f=(o[1],(0,r.useState)()),v=(f[0],f[1],(0,r.useState)(!1)),g=v[0],w=v[1],j=(0,r.useState)(!1),y=j[0],N=j[1],S=(0,r.useState)(!1),b=S[0],P=S[1],C=(0,r.useState)(!1),k=C[0],O=C[1],_=(0,r.useState)(!1),T=_[0],E=_[1],R=(0,l.useRouter)();function D(){return(D=x(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().post("/api/sendCode");case 3:t=e.sent,n=t.data,console.log(n,"hii man"),setEnterField(!0),O(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0,"hello");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function A(){return(A=x(a().mark((function e(t){var n,s,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),console.log(n,"weyfgqegfq"),e.next=5,c().post("/api/changepassword",{token:n,data:t});case 5:s=e.sent,r=s.data,console.log(r,"Passsword Change"),E(!0),O(!0),W(" Change Successfuly"),P(!0),setTimeout((function(){R.push("/dashboard")}),3e3),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0,"SomeThing Went Wrong"),q(" Invalid detail"),N(!0);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}var W=function(e){return u.Am.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},q=function(e){return u.Am.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};(0,r.useEffect)((function(){k&&new Promise((function(e){return setTimeout(e,4e3)})).then((function(){E(!0)}))}),[k]);return(0,s.jsx)("div",{children:(0,s.jsx)("section",{className:"profile-sec pb-0",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"row justify-content-center",children:[(0,s.jsx)(u.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,s.jsxs)("form",{className:"input-sec",id:"form-setting",onSubmit:function(s){s.preventDefault();var r=e.current.value,a=t.current.value,o=n.current.value,c={oldPassword:r,password:a,confirmPassword:o,otp:i.current.value};if(console.log(c,"data here"),w(!1),a!==o)return q("Password doesn't match"),void w(!0);!function(e){A.apply(this,arguments)}(c)},children:[(0,s.jsx)("div",{className:"line profile-line",id:"ch-line"}),(0,s.jsxs)("h3",{className:"heading-text pink-text mt-2 ",children:[(0,s.jsx)(m(),{href:"/dashboard",children:(0,s.jsx)("span",{className:"arrows-icon",style:{position:"relative",left:"-23%",cursor:"pointer"},children:(0,s.jsx)("img",{src:d.Z.src})})}),"Change Password"]}),(0,s.jsxs)("div",{className:"input-item item-set mt-5",children:[(0,s.jsx)("h6",{className:"item-text",children:"OLD PASSWORD"}),(0,s.jsx)("input",{ref:e,required:!0,className:"textinput",type:"password",name:"password"})]}),(0,s.jsxs)("div",{className:"input-item item-set",children:[(0,s.jsx)("h6",{className:"item-text",children:"NEW PASSWORD"}),(0,s.jsx)("input",{ref:t,required:!0,className:"textinput",type:"password",name:"password"})]}),(0,s.jsxs)("div",{className:"input-item item-set",children:[(0,s.jsx)("h6",{className:"item-text",children:"CONFIRMPASSWORD"}),(0,s.jsx)("input",{ref:n,required:!0,className:"textinput",type:"password",name:"confirmpassword"}),p&&(0,s.jsx)("p",{style:{color:"red"},children:" Password doesn't match "})]}),(0,s.jsx)("div",{style:{float:"left",width:"100%",marginTop:"10px"},children:(0,s.jsx)("p",{style:{margin:"0",fontSize:"15px",marginTop:"15px"},children:"Click SEND CODE, check your inbox, enter the verification code and click UPDATE."})}),(0,s.jsx)("div",{className:"name-sec mb-5 mt-0",style:{marginTop:"0px !important"},children:(0,s.jsxs)("div",{className:"input-item item-set mt-0",id:"item-value",style:{marginRight:"10px",display:"flex",marginTop:"0px !important"},children:[(0,s.jsx)("input",{className:"textinput w-50","mt-0":!0,type:"name",name:"username",style:{borderRadius:" 10px 0 0 10px !important"},ref:i}),(0,s.jsx)("button",{type:"button",disabled:k,onClick:function(){var s=e.current.value,r=t.current.value,i=n.current.value;if(!s||!r||!i)return q("Please fill the details."),void w("");r===i?(O(!1),function(){D.apply(this,arguments)}(),W("Verification Code Sent")):q("Password doesn't match")},className:"btn btn-roundes btn- w-50 ",style:{},children:"Send Code"})]})}),g&&(0,s.jsx)("p",{style:{color:"red"},children:" Password doesn't match "}),y&&(0,s.jsx)("p",{style:{color:"red",fontSize:"15px",margin:"0px"},children:" Invalid detail "}),b&&(0,s.jsx)("p",{style:{color:"green",fontSize:"15px",margin:"0"},children:"Change Successfuly "}),(0,s.jsx)(h.Z,{variant:"primary",className:"btn btn-round btn-warning w-100 ",style:{marginTop:"0px",marginBottom:"0px"},type:"submit",disabled:k,onClick:k?null:function(){return E(!1)},children:T?"Loading\u2026":"     UPDATE"})]})]})})})})},g=!0,w=function(){return(0,s.jsx)("div",{children:(0,s.jsx)(v,{})})}}},function(e){e.O(0,[866,774,888,179],(function(){return t=9742,e(e.s=t);var t}));var t=e.O();_N_E=t}]);